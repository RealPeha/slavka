function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var draggableElements=document.querySelectorAll(".draggable"),resizableElements=document.querySelectorAll(".resizable"),fullscreenElements=document.querySelectorAll(".fullscreen"),linkElements=document.querySelectorAll("[data-href]"),zIndex=1,isDrag=!1,isBigger=744<window.innerWidth,addEventListeners=function(t,e,n,r){var o=3<arguments.length&&void 0!==r?r:{};e.forEach(function(e){return t.addEventListener(e,n,o)})},removeEventListeners=function(t,e,n){e.forEach(function(e){return t.removeEventListener(e,n)})},getPageCoord=function(e){return e.changedTouches?{pageX:e.changedTouches[0].pageX,pageY:e.changedTouches[0].pageY}:{pageX:e.pageX,pageY:e.pageY}},makeDraggable=function(e){e.forEach(function(s){(s.querySelectorAll(".drag-target")||[s]).forEach(function(i){addEventListeners(i,["mousedown","touchstart"],function(e){var n,r,o,a,t;e.target.classList.contains("drag-target")&&(e=getPageCoord(e),n=e.pageX,r=e.pageY,document.body.style.userSelect="none",s.style.zIndex=++zIndex,e=window.getComputedStyle(s,null),o=parseInt(e.getPropertyValue("left"))||0,a=parseInt(e.getPropertyValue("top"))||0,t=function(e){isDrag=!0;var t=getPageCoord(e),e=t.pageX,t=t.pageY;s.style.left=o+e-n+"px",s.style.top=a+t-r+"px"},addEventListeners(document,["mousemove","touchmove"],t),addEventListeners(document,["mouseup","touchend"],function(){removeEventListeners(document,["mousemove","touchmove"],t),isDrag=!1},{once:!0}),i.ondragstart=function(){return!1})})})})},createResizer=function(e,t){var n,r=document.createElement("div");return(n=r.classList).add.apply(n,["resizer"].concat(_toConsumableArray(Array.isArray(e)?e:e.split(" ")))),t.appendChild(r),r},createResizers=function(e,t){return e.map(function(e){return createResizer(e,t)})},makeResizable=function(e){e.forEach(function(o){var e=document.createElement("div");o.appendChild(e);var e=createResizers(["top","right","bottom","left","top left","top right","bottom left","bottom right"],e),a={},i={top:0,left:0},s={};e.forEach(function(e){function t(e){r.contains("top")&&function(e){e=getPageCoord(e).pageY;o.style.height=s.height+(a.pageY-e)+"px",o.style.top=isBigger?e+"px":i.top+(e-a.pageY)+"px"}(e),r.contains("right")&&function(e){e=getPageCoord(e).pageX;o.style.width=e-s.left+"px"}(e),r.contains("bottom")&&function(e){e=getPageCoord(e).pageY;o.style.height=e-s.top+"px"}(e),r.contains("left")&&function(e){e=getPageCoord(e).pageX;o.style.width=s.width+(a.pageX-e)+"px",o.style.left=e+"px"}(e)}function n(){removeEventListeners(window,["mousemove","touchmove"],t)}var r=e.classList;addEventListeners(e,["mousedown","touchstart"],function(e){a=getPageCoord(e),s=o.getBoundingClientRect(),i={top:o.offsetTop,left:o.offsetLeft},addEventListeners(window,["mousemove","touchmove"],t),addEventListeners(window,["mouseup","touchend"],n)})})})},makeFullscreen=function(e){e.forEach(function(n){var r=0,o=!1,a={};addEventListeners(n,["mousedown"],function(){var e,t;2<=++r&&(n.style.transition="left .1s, top .1s, width .1s, height .1s",o?(o=!1,n.style.width=a.width+"px",n.style.height=a.height+"px",n.style.left=a.left+"px",n.style.top=a.top+"px"):(e=(t=n.getBoundingClientRect()).width,t=t.height,a={width:e,height:t,top:n.offsetTop,left:n.offsetLeft},o=!0,n.style.width="100%",n.style.height="100%",n.style.left="0",n.style.top="0"),setTimeout(function(){return n.style.transition="none"},100)),setTimeout(function(){return r=0},200)})})},makeLink=function(e){e.forEach(function(e){var t=e.dataset.href;addEventListeners(e,["mouseup","touchend"],function(){isDrag||(window.location.href=t)})})};makeDraggable(draggableElements),makeResizable(resizableElements),makeFullscreen(fullscreenElements),makeLink(linkElements),fullscreenElements.forEach(function(e){isBigger?(e.style.top="calc((100% - 70%) / 2)",e.style.left="calc((100% - 70%) / 2)",e.style.width="".concat(e.getBoundingClientRect().width,"px")):(e.style.top="calc((100% - 70%) / 2)",e.style.left="calc((100% - 90%) / 2)",e.style.width="90%",e.style.margin="0")});